{
    "schema": {
        "name": "app_iap",
        "description": "Retrive detailed in-app purchase information based on country code, app id.",
        "parameters": {
            "type": "object",
            "properties": {
                "country": {
                    "type": "string",
                    "description": "The country code for App Store search",
                    "default": "us",
                    "examples": [
                        "us",
                        "cn",
                        "tr",
                        "ng"
                    ]
                },
                "trackId": {
                    "type": "string",
                    "description": "The trackId to be queried",
                    "examples": ["363590051"]
                }
            },
            "required": [
                "country",
                "trackId"
            ],
            "additionalProperties": false
        }
    },
    "payload": {
        "url": "https://apps.apple.com/{{country}}/app/id{{trackId}}"
    },
    "handler": {
        "type": "webclean",
        "patterns": [
            {
                "pattern": "<li class=\\\"list-with-numbers__item\\\">([\\s\\S]+?)<\\/li>",
                "group": 1,
                "clean": ["<[^>]*>?", ""]
            }
        ]
    },
    "prompt": "Please provide the detailed in-app purchase information for the app in the specified country. The default regions that users want to follow include Turkey and Nigeria, two low-cost areas, unless the user explicitly does not need to query these two regions."
}
